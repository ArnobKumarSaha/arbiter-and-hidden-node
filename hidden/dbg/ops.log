kubedb.dev/apimachinery/client/informers/externalversions/factory.go:123: Watch close - *v1alpha2.MariaDB total 6 items received
I0825 10:23:21.315041       1 statefulset.go:81] Patching StatefulSet demo/sh-configsvr with {"spec":{"template":{"spec":
{"$setElementOrder/containers":[{"name":"mongodb"}],"$setElementOrder/initContainers":[{"name":"copy-config"}],"$setElementOrder/volumes":[{"name":"config"},
{"name":"init-scripts"},{"name":"certdir"},{"name":"keydir"},{"name":"workdir"},{"name":"client-cert"},{"name":"server-cert"}],
"containers":[{"$setElementOrder/env":[{"name":"POD_NAMESPACE"},{"name":"REPLICA_SET"},{"name":"AUTH"},{"name":"SSL_MODE"},{"name":"CLUSTER_AUTH_MODE"},
{"name":"MONGO_INITDB_ROOT_USERNAME"},{"name":"MONGO_INITDB_ROOT_PASSWORD"},{"name":"POD_NAME"}],"$setElementOrder/volumeMounts":[{"mountPath":"/work-dir"},
{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/data/db"}],
"args":["--bind_ip_all","--port=27017","--clusterAuthMode=x509","--keyFile=/data/configdb/key.txt","--dbpath=/data/db","--auth","--configsvr","--replSet=cnfRepSet","--ipv6","--tlsMode=requireTLS","--tlsCAFile=/var/run/mongodb/tls/ca.crt","--tlsCertificateKeyFile=/var/run/mongodb/tls/mongo.pem"],
"env":[{"name":"SSL_MODE","value":"requireSSL"},{"name":"CLUSTER_AUTH_MODE","value":"x509"}],
"image":"mongo:4.2.3@sha256:58b25d51baa11a85b6aedf7c4e05710d12a27ddc2883e2692e7d58527d98bd73","livenessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},
"name":"mongodb","readinessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},
"volumeMounts":[{"mountPath":"/var/run/mongodb/tls","name":"certdir"}]}],"initContainers":[{"$setElementOrder/env":[{"name":"SSL_MODE"}],"$setElementOrder/volumeMounts":[{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/client-cert"},{"mountPath":"/server-cert"}],"env":[{"name":"SSL_MODE","value":"requireSSL"}],
"image":"arnobkumarsaha/mongo-init-docker:_linux_amd64@sha256:6954b117b6f7b74ec417f046c15e4fcfa2ce7931bb7ad34587c7b12b6d91a561","name":"copy-config","resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},
"volumeMounts":[{"mountPath":"/client-cert","name":"client-cert"},{"mountPath":"/server-cert","name":"server-cert"},{"$patch":"delete","mountPath":"/keydir-readonly"}]}],"volumes":[{"name":"client-cert",
"secret":{"defaultMode":256,"secretName":"sh-client-cert"}},{"name":"server-cert","secret":{"defaultMode":256,"secretName":"sh-configsvr-server-cert"}}]}}}}.









I0825 10:23:24.845239       1 statefulset.go:81] Patching StatefulSet demo/sh-shard0 with {"spec":{"template":{"spec":{"$setElementOrder/containers":[{"name":"mongodb"}],"$setElementOrder/initContainers":[{"name":"copy-config"}],"$setElementOrder/volumes":[{"name":"config"},{"name":"init-scripts"},{"name":"certdir"},{"name":"keydir"},{"name":"workdir"},{"name":"client-cert"},{"name":"server-cert"}],"containers":[{"$setElementOrder/env":[{"name":"POD_NAMESPACE"},{"name":"REPLICA_SET"},{"name":"AUTH"},{"name":"SSL_MODE"},{"name":"CLUSTER_AUTH_MODE"},{"name":"MONGO_INITDB_ROOT_USERNAME"},{"name":"MONGO_INITDB_ROOT_PASSWORD"},{"name":"POD_NAME"}],"$setElementOrder/volumeMounts":[{"mountPath":"/work-dir"},{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/data/db"}],"args":["--bind_ip_all","--port=27017","--clusterAuthMode=x509","--keyFile=/data/configdb/key.txt","--dbpath=/data/db","--auth","--shardsvr","--replSet=shard0","--ipv6","--tlsMode=requireTLS","--tlsCAFile=/var/run/mongodb/tls/ca.crt","--tlsCertificateKeyFile=/var/run/mongodb/tls/mongo.pem"],"env":[{"name":"SSL_MODE","value":"requireSSL"},{"name":"CLUSTER_AUTH_MODE","value":"x509"}],"image":"mongo:4.2.3@sha256:58b25d51baa11a85b6aedf7c4e05710d12a27ddc2883e2692e7d58527d98bd73","livenessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"name":"mongodb","readinessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/var/run/mongodb/tls","name":"certdir"}]}],"initContainers":[{"$setElementOrder/env":[{"name":"SSL_MODE"}],"$setElementOrder/volumeMounts":[{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/client-cert"},{"mountPath":"/server-cert"}],"env":[{"name":"SSL_MODE","value":"requireSSL"}],"image":"arnobkumarsaha/mongo-init-docker:_linux_amd64@sha256:6954b117b6f7b74ec417f046c15e4fcfa2ce7931bb7ad34587c7b12b6d91a561","name":"copy-config","resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/client-cert","name":"client-cert"},{"mountPath":"/server-cert","name":"server-cert"},{"$patch":"delete","mountPath":"/keydir-readonly"}]}],"volumes":[{"name":"client-cert","secret":{"defaultMode":256,"secretName":"sh-client-cert"}},{"name":"server-cert","secret":{"defaultMode":256,"secretName":"sh-shard0-server-cert"}}]}}}}.
I0825 10:23:27.273077       1 reconcile.go:63] Get event for: demo/sh



I0825 10:23:28.348424       1 statefulset.go:81] Patching StatefulSet demo/sh-shard1 with {"spec":{"template":{"spec":{"$setElementOrder/containers":[{"name":"mongodb"}],
"$setElementOrder/initContainers":[{"name":"copy-config"}],"$setElementOrder/volumes":[{"name":"config"},{"name":"init-scripts"},{"name":"certdir"},{"name":"keydir"},
{"name":"workdir"},{"name":"client-cert"},{"name":"server-cert"}],"containers":[{"$setElementOrder/env":[{"name":"POD_NAMESPACE"},{"name":"REPLICA_SET"},{"name":"AUTH"},
{"name":"SSL_MODE"},{"name":"CLUSTER_AUTH_MODE"},{"name":"MONGO_INITDB_ROOT_USERNAME"},{"name":"MONGO_INITDB_ROOT_PASSWORD"},{"name":"POD_NAME"}],
"$setElementOrder/volumeMounts":[{"mountPath":"/work-dir"},{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},
{"mountPath":"/data/db"}],"args":["--bind_ip_all","--port=27017","--clusterAuthMode=x509","--keyFile=/data/configdb/key.txt","--dbpath=/data/db","--auth","--shardsvr","--replSet=shard1","--ipv6","--tlsMode=requireTLS","--tlsCAFile=/var/run/mongodb/tls/ca.crt","--tlsCertificateKeyFile=/var/run/mongodb/tls/mongo.pem"],"env":[{"name":"SSL_MODE","value":"requireSSL"},{"name":"CLUSTER_AUTH_MODE","value":"x509"}],"image":"mongo:4.2.3@sha256:58b25d51baa11a85b6aedf7c4e05710d12a27ddc2883e2692e7d58527d98bd73","livenessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"name":"mongodb","readinessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/var/run/mongodb/tls","name":"certdir"}]}],"initContainers":[{"$setElementOrder/env":[{"name":"SSL_MODE"}],"$setElementOrder/volumeMounts":[{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/client-cert"},{"mountPath":"/server-cert"}],"env":[{"name":"SSL_MODE","value":"requireSSL"}],"image":"arnobkumarsaha/mongo-init-docker:_linux_amd64@sha256:6954b117b6f7b74ec417f046c15e4fcfa2ce7931bb7ad34587c7b12b6d91a561","name":"copy-config","resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/client-cert","name":"client-cert"},{"mountPath":"/server-cert","name":"server-cert"},{"$patch":"delete","mountPath":"/keydir-readonly"}]}],"volumes":[{"name":"client-cert","secret":{"defaultMode":256,"secretName":"sh-client-cert"}},{"name":"server-cert","secret":{"defaultMode":256,"secretName":"sh-shard1-server-cert"}}]}}}}.


I0825 10:23:32.748429       1 statefulset.go:81] Patching StatefulSet demo/sh-mongos with {"spec":{"template":{"spec":{"$setElementOrder/containers":[{"name":"mongodb"}],"
$setElementOrder/initContainers":[{"name":"copy-config"},{"name":"bootstrap"}],"$setElementOrder/volumes":[{"name":"config"},{"name":"init-scripts"},{"name":"certdir"},
{"name":"keydir"},{"name":"workdir"},{"name":"client-cert"},{"name":"server-cert"}],"containers":[{"$setElementOrder/volumeMounts":[{"mountPath":"/work-dir"},
{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"}],"args":["--bind_ip_all","--port=27017","--clusterAuthMode=x509","--keyFile=/data/configdb/key.txt","--configdb=$(CONFIGDB_REPSET)","--ipv6","--tlsMode=requireTLS","--tlsCAFile=/var/run/mongodb/tls/ca.crt","--tlsCertificateKeyFile=/var/run/mongodb/tls/mongo.pem"],"image":"mongo:4.2.3@sha256:58b25d51baa11a85b6aedf7c4e05710d12a27ddc2883e2692e7d58527d98bd73","livenessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"name":"mongodb","readinessProbe":{"exec":{"command":["bash","-c","set -x; if [[ $(mongo admin --host=localhost --tls --tlsCAFile=/var/run/mongodb/tls/ca.crt --tlsCertificateKeyFile=/var/run/mongodb/tls/client.pem --username=$MONGO_INITDB_ROOT_USERNAME --password=$MONGO_INITDB_ROOT_PASSWORD --authenticationDatabase=admin --quiet --eval \"db.adminCommand('ping').ok\" ) -eq \"1\" ]]; then \n          exit 0\n        fi\n        exit 1"]}},"resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/var/run/mongodb/tls","name":"certdir"}]}],"initContainers":[{"$setElementOrder/env":[{"name":"SSL_MODE"}],"$setElementOrder/volumeMounts":[{"mountPath":"/data/configdb"},{"mountPath":"/init-scripts"},{"mountPath":"/var/run/mongodb/tls"},{"mountPath":"/client-cert"},{"mountPath":"/server-cert"}],"env":[{"name":"SSL_MODE","value":"requireSSL"}],"image":"arnobkumarsaha/mongo-init-docker:_linux_amd64@sha256:6954b117b6f7b74ec417f046c15e4fcfa2ce7931bb7ad34587c7b12b6d91a561","name":"copy-config","resources":{"limits":{"memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"mountPath":"/client-cert","name":"client-cert"},{"mountPath":"/server-cert","name":"server-cert"},{"$patch":"delete","mountPath":"/keydir-readonly"}]},{"$setElementOrder/env":[{"name":"AUTH"},{"name":"SSL_MODE"},{"name":"CLUSTER_AUTH_MODE"},{"name":"MONGO_INITDB_ROOT_USERNAME"},{"name":"MONGO_INITDB_ROOT_PASSWORD"},{"name":"CONFIGDB_REPSET"},{"name":"SHARD_REPSETS"},{"name":"SERVICE_NAME"}],"env":[{"name":"SSL_MODE","value":"requireSSL"},{"name":"CLUSTER_AUTH_MODE","value":"x509"}],"image":"mongo:4.2.3@sha256:58b25d51baa11a85b6aedf7c4e05710d12a27ddc2883e2692e7d58527d98bd73","name":"bootstrap"}],"volumes":[{"name":"client-cert","secret":{"defaultMode":256,"secretName":"sh-client-cert"}},{"name":"server-cert","secret":{"defaultMode":256,"secretName":"sh-mongos-server-cert"}}]}}}}.



I0825 10:23:32.763268       1 appbinding.go:78] Patching AppBinding demo/sh with {"spec":{"clientConfig":{"
caBundle":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJekNDQWd1Z0F3SUJBZ0lVRitNS2dtamRZYjBCTjdmYnFpaVpDVVhCejNjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lURU9NQXdHQTFVRUF3d0ZiVzl1WjI4eER6QU5CZ05WQkFvTUJtdDFZbVZrWWpBZUZ3MHlNakF5TWpndwpOekkwTkRaYUZ3MHlNekF5TWpnd056STBORFphTUNFeERqQU1CZ05WQkFNTUJXMXZibWR2TVE4d0RRWURWUVFLCkRBWnJkV0psWkdJd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUMwTkVRRnIwRmIKcUM2bGtveHZneTZZd1NXM1FiVnpHZzhxODBQeUF0N2dHdXBJZHpRM0N6NThnQVQvaWVxV2hhMnduQldhSmN1NQpYSDkwNzg3L1d0am1icU1JYUQ1SjN1dVpjUGx3cG1ZUkNPU1JWSGVId01OeGgyMFA3SHpnUjlvUE9CbDZBQ2VNCldqQnBac0tvQXNIMm04NWJlU0tSMlkzK09tQlpDeFhPUzhDbll3UkE5TjJyVXpxeldFUlZGcVhqdTJ0Y3V6cnQKbUhBWVhPQUhvTUFRdG45NXNrN2E0bjNtWDdaWXFaczUvTEJXeG9DM2ZDUkFRZVpRbmM5SzdLbGVEMEt5NitCWAo4b2czcFRjODNOZW83UmJjWFArNUQ4SU9nbDU5ZHBEaHNmQVpGaEN3UXZ5L2FlMS9FVC9yQVhXYVZiQzVrK3llCjRleTRRNlhOc3E2RkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCU3hoM25lbHJsSVo1YnMxNmlSVUFBMlFuZk4KRVRBZkJnTlZIU01FR0RBV2dCU3hoM25lbHJsSVo1YnMxNmlSVUFBMlFuZk5FVEFQQmdOVkhSTUJBZjhFQlRBRApBUUgvTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCMTZrMjJkVlRjeldpcWNKRGFwK1U0Q01SbGp1WEJIMXBQCkw3aVQvMlJrd0ViSmEzRzd4N3didng2NHJybWRPcXpKdXd6RmhTZDJlVmFBRVBXSzVBbGVxY0RwbWM3d3FybHAKbWFEV0dhRlJqMGIwenBqOVNqa2VCWFZBSGVNWVhaRWxGeEJQQmc3SEd3cmFIN3ZYNkZpa2U2UlZ2TG1tTDVlSAoxYXBNSklpRytkaGtUbVBBenlidGtEbGpzS1FjR0tJdGVIU1hEYUdqWEpJQnVycGZtM0V1enlDeThnSUFtbTMrClcvdUI3VzNrZkJ4c0d3UUtGSE16L29lMC9GV1JLOHhZZ0Z6VDJJK2psZG8xdE1WNUo1MW9BdjFOa20rQzBzanEKbDlQRC9FSXdIbDM2NmJ1Z2cwaU9Gb2NyblZXOVdxTTZGS0Y2OGp0dU1TVGNmaEp0bG9rbQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"secret":{"name":"sh-client-cert"}}}.
I0825 10:23:32.768398       1 service.go:112] spec.monitor.agent is not provided by prometheus.io




I0825 10:23:32.779225       1 mongodb.go:78] Patching MongoDB demo/sh with {"spec":{"clusterAuthMode":"keyFile","keyFileSecret":{"name":"sh-key"},"sslMode":"disabled","tls":null}}.
I0825 10:23:32.800932       1 reconcile.go:63] Get event for: demo/sh
I0825 10:23:32.800941       1 mongodb.go:35] started processing, key: demo/sh
I0825 10:23:32.804959       1 mongodb_ops_request.go:65] MongoDBOpsRequest "msg"="Started processing MongoDBOpsRequest" "key"="demo/tls"
I0825 10:23:37.418395       1 mongodb.go:35] started processing, key: demo/sh
I0825 10:23:37.418583       1 reconcile.go:63] Get event for: demo/sh
I0825 10:23:37.428725       1 reconcile.go:63] Get event for: demo/sh



I0825 10:23:37.429137       1 version_manager.go:71] Skipped same version upgrade checking, database has progressing OpsRequest
I0825 10:23:37.431617       1 mongodb.go:297] Version Upgrade Recommendation is already generated for demo/sh
I0825 10:23:37.813422       1 restart.go:146] MongoDBOpsRequest "msg"="Processing Pod" "MongoDB"="sh" "MongoDBOpsRequest"="tls" "Namespace"="demo" "Pod"="sh-configsvr-0"
I0825 10:23:37.824112       1 restart.go:146] MongoDBOpsRequest "ms